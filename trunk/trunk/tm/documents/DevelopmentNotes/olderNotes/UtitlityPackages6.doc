{\rtf1\ansi\ansicpg1252\uc1 \deff0\deflang1033\deflangfe1033{\fonttbl{\f0\froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\f1\fswiss\fcharset0\fprq2{\*\panose 020b0604020202020204}Arial;}{\f3\froman\fcharset2\fprq2{\*\panose 05050102010706020507}Symbol;}{\f15\fswiss\fcharset0\fprq2{\*\panose 020b0604030504040204}Tahoma;}{\f190\froman\fcharset238\fprq2 Times New Roman CE;}{\f191\froman\fcharset204\fprq2 Times New Roman Cyr;}{\f193\froman\fcharset161\fprq2 Times New Roman Greek;}{\f194\froman\fcharset162\fprq2 Times New Roman Tur;}{\f195\froman\fcharset186\fprq2 Times New Roman Baltic;}{\f196\fswiss\fcharset238\fprq2 Arial CE;}{\f197\fswiss\fcharset204\fprq2 Arial Cyr;}{\f199\fswiss\fcharset161\fprq2 Arial Greek;}{\f200\fswiss\fcharset162\fprq2 Arial Tur;}{\f201\fswiss\fcharset186\fprq2 Arial Baltic;}{\f280\fswiss\fcharset238\fprq2 Tahoma CE;}{\f281\fswiss\fcharset204\fprq2 Tahoma Cyr;}{\f283\fswiss\fcharset161\fprq2 Tahoma Greek;}{\f284\fswiss\fcharset162\fprq2 Tahoma Tur;}{\f285\fswiss\fcharset186\fprq2 Tahoma Baltic;}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{\nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid \snext0 Normal;}{\s1\sb240\sa60\keepn\nowidctlpar\widctlpar\adjustright \f1\fs28\kerning28\cgrid \sbasedon0 \snext0 heading 1;}{\s2\sb240\sa120\keepn\nowidctlpar\widctlpar\adjustright \b\f1\ul\cgrid \sbasedon0 \snext0 heading 2;}{\s3\sb240\sa60\keepn\nowidctlpar\widctlpar\adjustright \b\f1\cgrid \sbasedon0 \snext0 heading 3;}{\*\cs10 \additive Default Paragraph Font;}{\s15\nowidctlpar\widctlpar\brdrt\brdrs\brdrw30\brsp20 \tx810\adjustright \b\f1\fs22\cgrid \sbasedon0 \snext15 EndOfBlock;}{\s16\nowidctlpar\widctlpar\tqc\tx4320\tqr\tx8640\adjustright \f1\fs22\cgrid \sbasedon0 \snext16 header;}{\s17\fi-1800\li2520\nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid \sbasedon0 \snext17 List;}{\s18\nowidctlpar\widctlpar\tx810\adjustright \b\f1\fs22\cgrid \sbasedon0 \snext18 Code;}{\s19\nowidctlpar\widctlpar\tqc\tx4320\tqr\tx8640\adjustright \f1\fs22\cgrid \sbasedon0 \snext19 footer;}{\*\cs20 \additive \sbasedon10 page number;}{\s21\nowidctlpar\widctlpar\adjustright \cbpat9 \f15\fs22\cgrid \sbasedon0 \snext21 Document Map;}{\s22\li720\nowidctlpar\widctlpar\adjustright \b\f1\fs22\cgrid \sbasedon0 \snext22 Body Text 2;}{\s23\li1440\nowidctlpar\widctlpar\adjustright \b\f1\fs22\cgrid \sbasedon0 \snext23 Body Text Indent 2;}{\s24\nowidctlpar\widctlpar\adjustright \i\f1\fs22\cgrid \sbasedon0 \snext24 Body Text;}{\s25\sb120\sa120\nowidctlpar\widctlpar\adjustright \b\f1\fs22\cgrid \sbasedon0 \snext0 caption;}}{\*\listtable{\list\listtemplateid67698689\listsimple{\listlevel\levelnfc23\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 \fi-360\li360\jclisttab\tx360 }{\listname ;}\listid81877455}{\list\listtemplateid67698703\listsimple{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }{\listname ;}\listid350881870}{\list\listtemplateid67698689\listsimple{\listlevel\levelnfc23\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 \fi-360\li360\jclisttab\tx360 }{\listname ;}\listid379979601}{\list\listtemplateid67698689\listsimple{\listlevel\levelnfc23\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 \fi-360\li360\jclisttab\tx360 }{\listname ;}\listid390276266}{\list\listtemplateid67698689\listsimple{\listlevel\levelnfc23\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 \fi-360\li360\jclisttab\tx360 }{\listname ;}\listid709771249}{\list\listtemplateid67698689\listsimple{\listlevel\levelnfc23\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 \fi-360\li360\jclisttab\tx360 }{\listname ;}\listid821700124}{\list\listtemplateid67698689\listsimple{\listlevel\levelnfc23\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 \fi-360\li360\jclisttab\tx360 }{\listname ;}\listid833909111}{\list\listtemplateid67698689\listsimple{\listlevel\levelnfc23\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 \fi-360\li360\jclisttab\tx360 }{\listname ;}\listid912081806}{\list\listtemplateid67698689\listsimple{\listlevel\levelnfc23\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 \fi-360\li360\jclisttab\tx360 }{\listname ;}\listid1296176605}{\list\listtemplateid67698703\listsimple{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }{\listname ;}\listid1360426627}{\list\listtemplateid67698703\listsimple{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360\jclisttab\tx360 }{\listname ;}\listid1394230266}{\list\listtemplateid67698703\listsimple{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }{\listname ;}\listid1498569690}{\list\listtemplateid67698689\listsimple{\listlevel\levelnfc23\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 \fi-360\li360\jclisttab\tx360 }{\listname ;}\listid1657028008}{\list\listtemplateid67698689\listsimple{\listlevel\levelnfc23\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 \fi-360\li360\jclisttab\tx360 }{\listname ;}\listid1763800814}{\list\listtemplateid67698689\listsimple{\listlevel\levelnfc23\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 \fi-360\li360\jclisttab\tx360 }{\listname ;}\listid1957902702}{\list\listtemplateid67698689\listsimple{\listlevel\levelnfc23\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 \fi-360\li360\jclisttab\tx360 }{\listname ;}\listid2018574611}}{\*\listoverridetable{\listoverride\listid1498569690\listoverridecount0\ls1}{\listoverride\listid1498569690\listoverridecount1{\lfolevel\listoverrideformat{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext
\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }}\ls2}{\listoverride\listid1498569690\listoverridecount1{\lfolevel\listoverrideformat{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }}\ls3}{\listoverride\listid1498569690\listoverridecount1{\lfolevel\listoverrideformat{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }}\ls4}{\listoverride\listid1498569690\listoverridecount1{\lfolevel\listoverrideformat{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }}\ls5}{\listoverride\listid1498569690\listoverridecount1{\lfolevel\listoverrideformat{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }}\ls6}{\listoverride\listid1498569690\listoverridecount1{\lfolevel\listoverrideformat{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }}\ls7}{\listoverride\listid1498569690\listoverridecount1{\lfolevel\listoverrideformat{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }}\ls8}{\listoverride\listid1498569690\listoverridecount1{\lfolevel\listoverrideformat{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360\jclisttab\tx360 }}\ls9}{\listoverride\listid350881870\listoverridecount0\ls10}{\listoverride\listid350881870\listoverridecount1{\lfolevel\listoverrideformat{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext
\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }}\ls11}{\listoverride\listid350881870\listoverridecount1{\lfolevel\listoverrideformat{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }}\ls12}{\listoverride\listid1360426627\listoverridecount0\ls13}{\listoverride\listid1360426627\listoverridecount1{\lfolevel\listoverrideformat{\listlevel\levelnfc0\leveljc0\levelfollow0\levelstartat1\levelold\levelspace0\levelindent360{\leveltext\'02\'00.;}{\levelnumbers\'01;}\fi-360\li360 }}\ls14}{\listoverride\listid1296176605\listoverridecount0\ls15}{\listoverride\listid2018574611\listoverridecount0\ls16}{\listoverride\listid1957902702\listoverridecount0\ls17}{\listoverride\listid1763800814\listoverridecount0\ls18}{\listoverride\listid912081806\listoverridecount0\ls19}{\listoverride\listid1657028008\listoverridecount0\ls20}{\listoverride\listid390276266\listoverridecount0\ls21}{\listoverride\listid1394230266\listoverridecount0\ls22}{\listoverride\listid81877455\listoverridecount0\ls23}{\listoverride\listid379979601\listoverridecount0\ls24}{\listoverride\listid709771249\listoverridecount0\ls25}{\listoverride\listid821700124\listoverridecount0\ls26}{\listoverride\listid833909111\listoverridecount0\ls27}}{\info{\title class StoreDisplay  }{\author MPBL}{\operator Dr. T. Norvell}{\creatim\yr1998\mo1\dy19\hr17\min43}{\revtim\yr1998\mo1\dy19\hr17\min43}{\printim\yr1997\mo11\dy11\hr17\min6}{\version2}{\edmins1}{\nofpages4}{\nofwords745}{\nofchars4247}{\*\company Faculty of Engineering}{\nofcharsws5215}{\vern71}}\margl2160\margr1440\margt1152\margb1152 \widowctrl\ftnbj\aenddoc\lytprtmet\hyphcaps0\formshade\viewkind1\viewscale100\pgbrdrhead\pgbrdrfoot \fet0\sectd \binfsxn7\binsxn7\psz1\linex0\headery709\footery709\colsx709\endnhere\titlepg\sectdefaultcl {\header \pard\plain \s16\nowidctlpar\widctlpar\tqc\tx4320\tqr\tx8640\adjustright \f1\fs22\cgrid {The Utility Layer for The Teaching Machine 
\par 
\par }}{\footer \pard\plain \s19\nowidctlpar\widctlpar\tqc\tx4320\tqr\tx8640\adjustright \f1\fs22\cgrid {\tab }{\field{\*\fldinst {\cs20  PAGE }}{\fldrslt {\cs20\lang1024 4}}}{\cs20 \tab Version as of }{\field{\*\fldinst {\cs20  DATE }}{\fldrslt {\cs20\lang1024 19-01-98}}}{
\par }}{\footerf \pard\plain \s19\nowidctlpar\widctlpar\tqc\tx4320\tqr\tx8640\adjustright \f1\fs22\cgrid {{\field{\*\fldinst SYMBOL 211 \\f "Symbol" \\s 11}{\fldrslt\f3\fs22}}}{ 1997 by Michael Bruce-Lockhart and Theodore Norvell.  The associated software is released to students for educational purposes only and only for the duration of the course in which it is handed out. No other use of the software, either commercial or non-commercial, may be made without the express permission of the authors.
\par }}{\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang{\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}\pard\plain \s1\sb240\sa60\keepn\nowidctlpar\widctlpar\outlinelevel0\adjustright \f1\fs28\kerning28\cgrid {\ul Utility Layer Interface for The Teaching Machine}{\ul\up6 {\field{\*\fldinst SYMBOL 211 \\f "Symbol" \\s 14}{\fldrslt\f3\fs28}}}{\ul  
\par {\pntext\pard\plain\f1\fs22\cgrid \hich\af1\dbch\af0\loch\f1 1.\tab}}\pard\plain \fi-360\li360\nowidctlpar\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls9\pnrnot0\pndec\pnstart1\pnindent360\pnhang{\pntxta .}}\ls9\adjustright \f1\fs22\cgrid {Revisions
\par }\pard\plain \s1\sb240\sa60\keepn\nowidctlpar\widctlpar\outlinelevel0\adjustright \f1\fs28\kerning28\cgrid {Packages
\par }\pard\plain \nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid {
\par }\pard\plain \s17\fi-1800\li2520\nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid {The utility layer consists of the following packages.
\par {\pntext\pard\plain\s17 \f3\fs22\cgrid \loch\af3\dbch\af0\hich\f3 \'b7\tab}}\pard \s17\fi-360\li1080\nowidctlpar\widctlpar\jclisttab\tx1080{\*\pn \pnlvlblt\ilvl0\ls16\pnrnot0\pnf3\pnstart1\pnindent360\pnhang{\pntxtb \'b7}}\ls16\adjustright {backtrack: Contains the basic classes for backtraking
\par {\pntext\pard\plain\s17 \f3\fs22\cgrid \loch\af3\dbch\af0\hich\f3 \'b7\tab}}\pard \s17\fi-360\li1080\nowidctlpar\widctlpar\jclisttab\tx1080{\*\pn \pnlvlblt\ilvl0\ls16\pnrnot0\pnf3\pnstart1\pnindent360\pnhang{\pntxtb \'b7}}\ls16\adjustright {Utilities: Contains miscellaneous classes of general use.
\par }\pard\plain \s2\sb240\sa120\keepn\nowidctlpar\widctlpar\outlinelevel1\adjustright \b\f1\ul\cgrid {The backtrack Package
\par }\pard\plain \s3\sb240\sa60\keepn\nowidctlpar\widctlpar\outlinelevel2\adjustright \b\f1\cgrid {Overview
\par }\pard\plain \nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid {It is intended that the user can step backwards through computations as well as forwards. That is the user can `undo\rquote  the effect of one or more evaluation steps. To accomplish this ability (a) the virtual machine state object conforms to the }{\b backtrack.backtrack}{ interface. This interface supports two methods: }{\b vms.checkpoint()}{ makes a copy of the state, and }{\b vms.undo()}{ backs the state up to its value at the previous checkpoint. Many levels of undo (say 20) are allowed. (b) Checkpoints are taken at the start of each user evaluation step.
\par }\pard\plain \s3\sb240\sa60\keepn\nowidctlpar\widctlpar\outlinelevel2\adjustright \b\f1\cgrid {Interface backtrack
\par }\pard\plain \s16\nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid {
\par }\pard\plain \s18\li720\nowidctlpar\widctlpar\tx810\adjustright \b\f1\fs22\cgrid {package backtrack ;
\par 
\par /** An interface for objects that can be backed up to a previous state. 
\par */
\par public interface backtrack 
\par \{
\par }\pard \s18\li810\nowidctlpar\widctlpar\tx810\adjustright {\tab /** Make a backup copy of the object's current value */
\par \tab abstract public void checkpoint() ;
\par 
\par \tab /** Back the object up to its previous value if any */
\par \tab abstract public void undo() ;
\par 
\par \tab /** The number of checkpoints kept */
\par \tab final int checkpoints = 23 ;
\par }\pard \s18\li720\nowidctlpar\widctlpar\tx810\adjustright {\}}{\b0 
\par }\pard\plain \nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid {
\par Any class implementing this interface is responsible for keeping a stack of up to `checkpoints\rquote  (currently 23) of  checkpointed values as well as a current value.
\par }\pard\plain \s3\sb240\sa60\keepn\nowidctlpar\widctlpar\outlinelevel2\adjustright \b\f1\cgrid {Class BTFunction
\par }\pard\plain \s18\li720\nowidctlpar\widctlpar\tx810\adjustright \b\f1\fs22\cgrid {public class BTFunction implements backtrack \{
\par }\pard \s18\li1440\nowidctlpar\widctlpar\tx810\adjustright {private Hashtable hash ;
\par 
\par public BTFunction() ;
\par /* }{\i Create a backtrackable function. Initially all objects map to }{null.}{\i  */
\par }{
\par public Object at(Object d) ;
\par /* }{\i Find apply the function to }{d}{\i .}{ */}{\b0 
\par }{\tab 
\par public void map(Object d, Object r) ;
\par /* }{\i Change the object mapped by }{d}{\i  to }{r. */
\par }\pard \s18\li720\nowidctlpar\widctlpar\tx810\adjustright {\}
\par }\pard\plain \nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid {This class is used to represent functions. The domain range elements themselves are neither automatically checkpointed nor undone.
\par }\pard\plain \s3\sb240\sa60\keepn\nowidctlpar\widctlpar\outlinelevel2\adjustright \b\f1\cgrid {Class BTStack
\par }\pard\plain \s18\li720\nowidctlpar\widctlpar\tx810\adjustright \b\f1\fs22\cgrid {public class BTStack implements backtrack \{
\par 
\par }\pard \s18\li810\nowidctlpar\widctlpar\tx810\adjustright {\tab public BTStack() ;
\par 
\par }\pard \s18\li1440\nowidctlpar\widctlpar\tx810\adjustright {/** A new top element. */
\par }\pard \s18\li810\nowidctlpar\widctlpar\tx810\adjustright {\tab public void push(Object o) ;
\par 
\par }\pard \s18\li1440\nowidctlpar\widctlpar\tx810\adjustright {/* Remove the top element. */
\par }\pard \s18\li810\nowidctlpar\widctlpar\tx810\adjustright {\tab public void pop() ;
\par 
\par \tab /** Return the number of elements on the stack. */
\par }\pard \s18\li1440\nowidctlpar\widctlpar\tx810\adjustright {public int size() ;
\par }\pard \s18\li810\nowidctlpar\widctlpar\tx810\adjustright {
\par }\pard \s18\li1440\nowidctlpar\widctlpar\tx810\adjustright {/** Return the top object */
\par }\pard \s18\li810\nowidctlpar\widctlpar\tx810\adjustright {\tab public Object top() ;
\par 
\par }\pard \s18\li1440\nowidctlpar\widctlpar\tx810\adjustright {/** Return i\rquote th from the bottom. get(0) returns the bottom element. */
\par }\pard \s18\li810\nowidctlpar\widctlpar\tx810\adjustright {\tab public Object get(int i) ;
\par }\pard \s18\li720\nowidctlpar\widctlpar\tx810\adjustright {\}
\par 
\par }\pard\plain \nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid {This Class is used to represent backtrackable stacks of objects. The objects themselves are not backtracked. So if you want to chekpoint the object themselves, first checkpoint all the objects on the stack, then the stack itself. To undo, undo the stack first and then all the objects on the stack.
\par }\pard\plain \s3\sb240\sa60\keepn\nowidctlpar\widctlpar\outlinelevel2\adjustright \b\f1\cgrid {Class btvar
\par }\pard\plain \s18\li720\nowidctlpar\widctlpar\tx810\adjustright \b\f1\fs22\cgrid {public class btvar implements backtrack \{
\par \tab \tab 
\par }\pard \s18\li1440\nowidctlpar\widctlpar\tx810\adjustright {/*}{\i  Create a backtrackable variable */
\par }\pard \s18\li810\nowidctlpar\widctlpar\tx810\adjustright {\tab public btvar() ;
\par 
\par }\pard \s18\li1440\nowidctlpar\widctlpar\tx810\adjustright {/* }{\i Change value */
\par }\pard \s18\li810\nowidctlpar\widctlpar\tx810\adjustright {\tab public void set(Object o) ;
\par 
\par \tab /* }{\i Report value }{*/
\par \tab public Object get() ;
\par }\pard \s18\li720\nowidctlpar\widctlpar\tx810\adjustright {\}
\par }\pard\plain \nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid {This class is used for primitive objects (such as integers). Compound objects must be backed up in ways specific to their implementation.
\par 
\par }\pard\plain \s2\sb240\sa120\keepn\nowidctlpar\widctlpar\outlinelevel1\adjustright \b\f1\ul\cgrid {Package Utilities
\par }\pard\plain \s3\sb240\sa60\keepn\nowidctlpar\widctlpar\outlinelevel2\adjustright \b\f1\cgrid {Classes Assert, AssertException, and ApologyException
\par }\pard\plain \nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid {The Assert class is used to signal undesired states. Two varieties must be sharply distinguished
\par {\pntext\pard\plain\f3\fs22\cgrid \loch\af3\dbch\af0\hich\f3 \'b7\tab}}\pard \fi-360\li1080\nowidctlpar\widctlpar\jclisttab\tx1080{\*\pn \pnlvlblt\ilvl0\ls25\pnrnot0\pnf3\pnstart1\pnindent360\pnhang{\pntxtb \'b7}}\ls25\adjustright {\i Assertion failure. }{When it is detected that the state of the program is inconsistent with the programmers intent, this is an assertion failure. Consider this contrived example
\par }\pard\plain \s18\li1440\nowidctlpar\widctlpar\tx810\adjustright \b\f1\fs22\cgrid {public int half( int x)
\par /* }{\i Precondition: }{x}{\i  should be nonnegative.
\par }{   }{\i The result should be the floor of half of }{x}{\i  */
\par }{\{
\par }\pard \s18\li2160\nowidctlpar\widctlpar\tx810\adjustright {Assert.assert( x => 0 ) ;
\par int result ;
\par result = 2 >> x ;
\par Assert.assert( x-1 <= result+result && result+result <= x ) ;
\par return x ;
\par }\pard \s18\nowidctlpar\widctlpar\tx810\adjustright {
\par }\pard \s18\li1440\nowidctlpar\widctlpar\tx810\adjustright {\}
\par }\pard\plain \fi360\li720\nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid {The comments say that the argument should be nonnegative, if a negative argument is used, this is a programmer error \endash  either on the part of the programmer who called the subroutine or the programmer who wrote the comment. The assert catches this error. Similarly the second assert catches errors made in the implementation of the subroutine. 
\par {\pntext\pard\plain\f3\fs22\cgrid \loch\af3\dbch\af0\hich\f3 \'b7\tab}}\pard \fi-360\li1080\nowidctlpar\widctlpar\jclisttab\tx1080{\*\pn \pnlvlblt\ilvl0\ls27\pnrnot0\pnf3\pnstart1\pnindent360\pnhang{\pntxtb \'b7}}\ls27\adjustright {\i Apology required.}{ When the program is presented with input with which it can not deal, an apology is required. It is best to filter out erroneous input early, but this can be difficult especially in an application like a programming language where the error may not be apparent until the subject program is running. A classic example is where the subject program divides by 0. Other examples include type errors and resource exhaustion (out of space). In these cases there is no programmer error, so an assertion is not required. But something must be done, as the program is in a state it can not deal with. Thus we throw an exception. This exception ought to be caught.
\par }\pard \nowidctlpar\widctlpar\adjustright {
\par }\pard\plain \s16\fi720\nowidctlpar\widctlpar\adjustright \f1\fs22\cgrid {Class Assert deals with both kinds of undesired states. A call to Assert.assert with a false argument provokes an AssertException. A call to Assert.apology with a false first argument provokes an ApologyException. ApologyExceptions thrown during interpretation are caught in the Evaluator class.
\par }\pard\plain \s18\li720\nowidctlpar\widctlpar\tx810\adjustright \b\f1\fs22\cgrid {public class Assert \{
\par }\pard \s18\li810\nowidctlpar\widctlpar\tx810\adjustright {\tab public static void assert( boolean proposition ) ;
\par \tab public static void apology( boolean proposition, String message ) ; \}
\par 
\par }\pard \s18\li720\nowidctlpar\widctlpar\tx810\adjustright {public class ApologyException extends RuntimeException \{
\par }\pard \s18\li1440\nowidctlpar\widctlpar\tx810\adjustright {ApologyException( String message ) ; \}
\par 
\par }\pard \s18\li720\nowidctlpar\widctlpar\tx810\adjustright {public class AssertException extends RuntimeException \{
\par }\pard \s18\li810\nowidctlpar\widctlpar\tx810\adjustright {\tab AssertException( String message ) ; \}
\par }}